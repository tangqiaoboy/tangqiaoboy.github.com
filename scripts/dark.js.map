{"version":3,"file":"dark.js","mappings":"MAAA,MAAMA,EAAsBC,EAAE,qBAmBxBC,EAA+BC,IAC/BA,EACFH,EAAoBI,YAAY,6BAEhCJ,EAAoBK,SAAS,4BAC/B,EAIIC,EAAkB,SAAUC,GAChCL,GAA4B,GAC5B,MAAMM,EAAsBP,EAAG,cAAaM,mBACT,IAA/BC,EAAoBC,QACtBD,EAAoBE,SACpBC,aAAaC,mBAAqB,UAElCX,EAAE,UACCY,KAAK,CACJC,IAAK,aACLC,KAAM,WACNC,KAAO,GAAET,kBAEVU,SAAS,QACZN,aAAaC,mBAAqB,QAEpCV,GAA4B,EAC9B,EAIEA,GAA4B,GAII,UAlDJ,WAC5B,IAAIU,EAAqBD,aAAaC,mBAWtC,OAVKA,EAQHA,EAA4C,SAAvBA,EAAgC,OAAS,SAN9DA,EAAqBM,OAAOC,WAAW,gCACpCC,QACC,OACA,QACJT,aAAaC,mBAAqBA,GAI7BA,CACT,CAqCMS,IACFf,EAAgBY,OAAOI,SAASf,MAGlCP,EAAoBuB,OAAM,WACxBjB,EAAgBY,OAAOI,SAASf,KAClC,IAEAL,GAA4B,E","sources":["webpack://hexo-theme-archer/./src/js/dark.js"],"sourcesContent":["const $themeModeSwitchBtn = $('.header-theme-btn')\n\n// 获取用户偏好的主题颜色模式\nconst getPreferredThemeMode = function () {\n  let preferredThemeMode = localStorage.preferredThemeMode\n  if (!preferredThemeMode) {\n    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式\n    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)')\n      .matches\n      ? 'dark'\n      : 'light'\n    localStorage.preferredThemeMode = preferredThemeMode\n  } else {\n    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light'\n  }\n  return preferredThemeMode\n}\n\n// 设置切换主题按钮可点击\nconst setThemeModeSwitchBtnActive = (active) => {\n  if (active) {\n    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled')\n  } else {\n    $themeModeSwitchBtn.addClass('header-theme-btn-disabled')\n  }\n}\n\n// 切换主题颜色模式\nconst switchThemeMode = function (root) {\n  setThemeModeSwitchBtnActive(false)\n  const $darkModeSourceLink = $(`LINK[href='${root}css/dark.css']`)\n  if ($darkModeSourceLink.length === 1) {\n    $darkModeSourceLink.remove()\n    localStorage.preferredThemeMode = 'light'\n  } else {\n    $('<link>')\n      .attr({\n        rel: 'stylesheet',\n        type: 'text/css',\n        href: `${root}css/dark.css`,\n      })\n      .appendTo('head')\n    localStorage.preferredThemeMode = 'dark'\n  }\n  setThemeModeSwitchBtnActive(true)\n}\n\n// 初始化切换主题颜色模式功能\nconst initThemeModeSwitchButton = function () {\n  setThemeModeSwitchBtnActive(false)\n\n  // 默认情况下，加载暗色主题\n  // 若用户偏好浅色主题，则切换主题颜色模式\n  if (getPreferredThemeMode() === 'light') {\n    switchThemeMode(window.siteMeta.root)\n  }\n\n  $themeModeSwitchBtn.click(function () {\n    switchThemeMode(window.siteMeta.root)\n  })\n\n  setThemeModeSwitchBtnActive(true)\n}\n\ninitThemeModeSwitchButton()\n"],"names":["$themeModeSwitchBtn","$","setThemeModeSwitchBtnActive","active","removeClass","addClass","switchThemeMode","root","$darkModeSourceLink","length","remove","localStorage","preferredThemeMode","attr","rel","type","href","appendTo","window","matchMedia","matches","getPreferredThemeMode","siteMeta","click"],"sourceRoot":""}